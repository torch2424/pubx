'use strict';var Pubx=function(e){function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})));d.forEach(function(b){var d=c[b];b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}class g{constructor(){this.state={}}_idGenerator(){return`${Math.random().toString(36).replace(/[^a-z]+/g,
"").substr(2,10)}${Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}`.slice()}_initializeStateKey(a){this.state[a]={value:void 0,subscribers:{}}}unsubscribe_(a,b){this.state[a]&&delete this.state[a].subscribers[b]}get(a){if(this.state[a])return this.state[a].value}subscribe(a,b){let c=this._idGenerator();this.state[a]||this._initializeStateKey(a);this.state[a].subscribers[c]=(a)=>{b(a)};return()=>{this.unsubscribe_(a,c)}}publish(a,b){this.state[a]||this._initializeStateKey(a);this.state[a].value=
f({},this.state[a].value,b);Object.keys(this.state[a].subscribers).forEach((b)=>{this.state[a].subscribers[b](f({},this.state[a].value))})}}let h=new g;e.Pubx=h;return e}({});
